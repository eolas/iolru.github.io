<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gaelchursaí Math Learning App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #5d9afc;
      --arithmetic-color: #4285F4;
      --statistics-color: #FBBC05;
      --sequences-color: #34A853;
      --outline-area-color: #9C27B0;
      --fractions-color: #FF9800;
      --percentages-color: #00BCD4;
      --algebra-color: #EA4335;
      --text-color: #333333;
      --bg-color: #ffffff;
      --section-bg: #f9f9f9;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      /* Added for fade transition */
      transition: opacity 0.4s ease-in-out;
    }

    /* Class to trigger fade out */
    body.language-switching {
      opacity: 0;
    }


    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header Styles */
    header {
      background-color: var(--bg-color);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: fixed;
      width: 100%;
      z-index: 1000;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      /* Adjusted padding slightly */
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 24px;
      font-weight: bold;
      color: var(--primary-color);
    }

    .logo img {
      height: 40px;
    }

    .nav-links {
      display: flex;
      gap: 30px;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-color);
      font-weight: 500;
      transition: color 0.3s ease;
    }

    .nav-links a:hover {
      color: var(--primary-color);
    }

    /* --- Updated Language Toggle Styles --- */
    .language-toggle {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      /* Rounded corners */
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
      transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .language-toggle:hover {
      background-color: #4a8af0;
      /* Slightly darker shade on hover */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .language-toggle:active {
      transform: scale(0.98);
      /* Slight shrink effect on click */
    }

    /* --- End Updated Language Toggle Styles --- */


    /* Hero Section */
    .hero {
      padding: 160px 0 100px;
      background: linear-gradient(to bottom right, rgba(93, 154, 252, 0.1), rgba(93, 154, 252, 0.05));
      text-align: center;
    }

    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 20px;
      color: var(--text-color);
    }

    .hero h1 span {
      color: var(--primary-color);
    }

    .hero p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 40px;
      color: #666;
    }

    .cta-button {
      display: inline-block;
      background-color: var(--primary-color);
      color: white;
      padding: 12px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      letter-spacing: 0.5px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 15px rgba(93, 154, 252, 0.3);
    }

    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(93, 154, 252, 0.4);
    }

    .hero-image {
      margin-top: 50px;
      max-width: 80%;
      border-radius: 12px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    /* Features Section */
    .section {
      padding: 70px 0;
    }

    .section-title {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: var(--text-color);
    }

    .section-subtitle {
      text-align: center;
      color: #666;
      font-size: 1.2rem;
      max-width: 700px;
      margin: 0 auto 60px;
    }

    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .feature {
      background-color: var(--bg-color);
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .feature:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .feature-icon {
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: var(--primary-color);
    }

    .feature h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
    }

    .feature p {
      color: #666;
      line-height: 1.7;
    }

    /* Topics Section */
    .topics-section {
      background-color: var(--section-bg);
      padding: 70px 0;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-top: 50px;
    }

    .topic-card {
      background-color: var(--bg-color);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .topic-card:hover {
      /* Hover effect only on desktop */
    }

    @media (min-width: 769px) {
      .topic-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
    }

    .topic-header {
      padding: 20px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      /* Changed from gap to space-between for icon */
      cursor: default;
      /* Default cursor for desktop */
    }

    .topic-header-content {
      /* New wrapper for icon and title */
      display: flex;
      align-items: center;
      gap: 15px;
    }


    .topic-header-content i {
      /* Target only the main icon */
      font-size: 1.8rem;
      flex-shrink: 0;
      /* Prevent icon from shrinking */
    }

    .topic-header-content h3 {
      font-size: 1.3rem;
      font-weight: 600;
    }

    /* Style for the new toggle icon */
    .topic-toggle-icon {
      font-size: 1rem;
      display: none;
      /* Hidden by default, shown on mobile */
      transition: transform 0.4s ease-in-out;
      /* Smooth rotation */
    }


    .topic-body {
      padding: 20px;
      max-height: 500px;
      /* Allow body to show fully on desktop */
      overflow: hidden;
      transition: max-height 0.5s ease-out, padding 0.5s ease-out;
      /* Smooth transition for desktop if needed */
    }

    .topic-body p {
      color: #666;
      font-size: 0.95rem;
      margin-bottom: 15px;
    }

    .topic-objectives {
      margin-top: 15px;
    }

    .topic-objectives h4 {
      font-size: 1rem;
      margin-bottom: 10px;
      color: #555;
    }

    .topic-objectives ul {
      list-style-type: none;
      padding-left: 5px;
    }

    .topic-objectives li {
      position: relative;
      padding-left: 22px;
      margin-bottom: 8px;
      font-size: 0.9rem;
      color: #666;
    }

    .topic-objectives li::before {
      content: "✓";
      position: absolute;
      left: 0;
      color: var(--primary-color);
      font-weight: bold;
    }

    /* App Screenshots Section */
    .screenshots {
      text-align: center;
    }

    .screenshots-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 50px;
    }

    .screenshot {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .screenshot img {
      width: 100%;
      height: auto;
      transition: transform 0.3s ease;
    }

    .screenshot:hover img {
      transform: scale(1.03);
    }

    /* How It Works */
    .how-it-works {
      background-color: var(--section-bg);
    }

    .steps {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px;
      margin-top: 50px;
    }

    .step {
      background-color: var(--bg-color);
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      max-width: 320px;
      text-align: center;
      position: relative;
      transition: transform 0.3s ease;
    }

    .step:hover {
      transform: translateY(-5px);
    }

    .step-number {
      width: 50px;
      height: 50px;
      background-color: var(--primary-color);
      color: white;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.5rem;
      font-weight: bold;
      margin: 0 auto 20px;
    }

    .step h3 {
      font-size: 1.3rem;
      margin-bottom: 15px;
    }

    .step p {
      color: #666;
      font-size: 0.95rem;
    }

    /* Footer */
    footer {
      background-color: #333;
      color: #fff;
      padding: 60px 0 20px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 40px;
      margin-bottom: 40px;
    }

    .footer-column h3 {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: #fff;
    }

    .footer-column p,
    .footer-column a {
      color: #bbb;
      margin-bottom: 10px;
      display: block;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .footer-column a:hover {
      color: var(--primary-color);
    }

    .social-links {
      display: flex;
      gap: 15px;
      margin-top: 15px;
    }

    .social-links a {
      color: #fff;
      background-color: #444;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background-color 0.3s ease;
    }

    .social-links a:hover {
      background-color: var(--primary-color);
    }

    .copyright {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid #444;
      color: #888;
      font-size: 0.9rem;
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
        /* Hide nav links on mobile */
      }

      .hero h1 {
        font-size: 2.5rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .steps {
        flex-direction: column;
        align-items: center;
      }

      /* --- Mobile Topic Collapse Styles --- */
      .topics-grid {
        grid-template-columns: 1fr;
        /* Stack topics vertically on mobile */
        gap: 15px;
      }

      .topic-header {
        cursor: pointer;
        /* Make header clickable on mobile */
      }

      .topic-body {
        max-height: 0;
        /* Collapse the body by default */
        padding-top: 0;
        padding-bottom: 0;
        overflow: hidden;
        transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
      }

      .topic-card.active .topic-body {
        max-height: 500px;
        /* Set a max-height to allow expansion */
        padding-top: 20px;
        /* Restore padding when active */
        padding-bottom: 20px;
      }

      .topic-toggle-icon {
        display: inline-block;
        /* Show the icon on mobile */
      }

      .topic-card.active .topic-toggle-icon {
        transform: rotate(180deg);
        /* Rotate icon when expanded */
      }

      /* --- End Mobile Topic Collapse Styles --- */
    }

    /* Animation */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate {
      animation: fadeIn 0.6s ease-out forwards;
      opacity: 0;
      /* Start hidden for animation */
      transform: translateY(20px);
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <nav>
        <div class="logo">
          <h1>Iolrú</h1>
        </div>
        <div class="nav-links">
          <a href="#features">Features</a>
          <a href="#topics">Math Topics</a>
          <a href="#screenshots">Screenshots</a>
          <a href="#how-it-works">How It Works</a>
        </div>
<!--         <button class="language-toggle" id="language-toggle-button">
          English
        </button> -->
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h1>Learn Math with <span>Gaelchursaí</span></h1>
      <p>Iolrú is a supportive math learning app to help students improve and build on their math skills. Available in
        both Irish and English, our app's goal is to reinforces in-class learning.</p>
      <a href="#features" class="cta-button">Discover the App</a>
      <div>
      </div>
    </div>
  </section>

  <section class="section" id="features">
    <div class="container">
      <h2 class="section-title">App Features</h2>

      <div class="features">
        <div class="feature animate">
          <div class="feature-icon">
            <i class="fas fa-language"></i>
          </div>
          <h3>Bilingual Support</h3>
          <p>Toggle between Irish and English at any point in the app.</p>
        </div>

        <div class="feature animate">
          <div class="feature-icon">
            <i class="fas fa-tasks"></i>
          </div>
          <h3>Topic questions</h3>
          <p>Practice topic questions to refresh your knowledge of key math topics.</p>
        </div>

        <div class="feature animate">
          <div class="feature-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3>Progress Tracking</h3>
          <p>Monitor your improvement with progress bars for each math topic based on your quiz performance.</p>
        </div>

      </div>
    </div>
  </section>

  <section class="topics-section" id="topics">
    <div class="container">
      <h2 class="section-title">Math Topics</h2>
      <p class="section-subtitle">Our app covers essential math topics needed for your studies, each with its own
        dedicated learning section and quiz.</p>

      <div class="topics-grid">
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>Gaelchursaí</h3>
          <p>Providing education and training courses through the Irish language since 2011</p>
          <div class="social-links">
            <a href="https://www.facebook.com/p/GaelCh%C3%BArsa%C3%AD-100057252048592/?locale=en_GB"><i
                class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com/gaelchursai/?hl=en"><i class="fab fa-instagram"></i></a>
          </div>
        </div>

        <div class="footer-column">
          <h3>Quick Links</h3>
          <a href="#features">Features</a>
          <a href="#topics">Math Topics</a>
          <a href="#screenshots">Screenshots</a>
          <a href="#how-it-works">How It Works</a>
        </div>

        <div class="footer-column">
          <h3>Contact Us</h3>
          <p><i class="fas fa-envelope" style="margin-right: .3rem;"></i>gaelchursai@gmail.com</p>
          <p><i class="fas fa-phone" style="margin-right: .3rem;"></i>02890438771</p>
          <p><i class="fas fa-map-marker-alt" style="margin-right: .3rem;"></i>199 Falls Road Belfast BT12 6FB</p>
        </div>
      </div>

      <div class="copyright">
        <p>&copy; 2025 Gaelchursaí. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Topic data from the JSON file
    const topicsData = [
      {
        "name": {
          "en": "Arithmetic",
          "ga": "Uimhríocht"
        },
        "description": {
          "en": "Learn the basics of arithmetic, covering addition, subtraction, multiplication, and division. Understand how to work with numbers, including negatives, and the order of operations.",
          "ga": "Foghlaim buneolas na huimhríochta, ag clúdach suimiú, dealú, iolrú agus roinnt. Tuig conas oibriú le huimhreacha, lena n-áirítear diúltacha, agus ord na n-oibríochtaí."
        },
        "_id": "6739f62e717b89815dd13a47",
        "style": {
          "icon": "calculator",
          "colour": "#4285F4"
        },
        "available": [
          "learn",
          "quiz"
        ],
        "objectives": {
          "en": [
            "Cover basics of addition & subtraction",
            "Cover basics of multiplication & division.",
            "Understand order of operations (BIDMAS)",
            "Working with negative numbers"
          ],
          "ga": []
        },
        "topicId": 1
      },
      {
        "name": {
          "en": "Statistics",
          "ga": "Staitisticí"
        },
        "description": {
          "en": "Understand how to collect, organize, and analyze data using statistics. Learn about key measures like mean, mode, median, and range.",
          "ga": "Tuig conas sonraí a bhailiú, a eagrú agus a anailísiú ag úsáid staitisticí. Foghlaim faoi phríomhthomhais mar mheán, mód, airmheán agus raon."
        },
        "_id": "6739f51d717b89815dd13a44",
        "style": {
          "icon": "chart-bar",
          "colour": "#FBBC05"
        },
        "available": [
          "quiz",
          "learn"
        ],
        "objectives": {
          "en": [
            "Work out the mean, mode and median",
            "Gather data",
            "Use data to work things out"
          ],
          "ga": [
            "Oibrigh amach an meán, an modh agus an t-airmheán",
            "Bailigh sonraí",
            "Úsáid sonraí le rudaí a oibriú amach"
          ]
        },
        "topicId": 2
      },
      {
        "name": {
          "en": "Sequences",
          "ga": "Seicheamh"
        },
        "description": {
          "en": "Explore sequences, which are ordered lists of numbers. Learn to identify different types and recognize the patterns or rules they follow.",
          "ga": "Déan iniúchadh ar sheichimh, ar liostaí ordaithe uimhreacha iad. Foghlaim conas cineálacha éagsúla a aithint agus na patrúin nó rialacha a leanann siad a aithint."
        },
        "_id": "6739f492717b89815dd13a43",
        "style": {
          "icon": "sort-numeric-up",
          "colour": "#34A853"
        },
        "available": [],
        "objectives": {
          "en": [
            "Define a sequence",
            "Identify different types of sequences",
            "Recognize patterns and rules"
          ],
          "ga": [
            "Sainmhínigh seicheamh",
            "Cineálacha éagsúla seichimh a aithint",
            "Patrúin agus rialacha a aithint"
          ]
        },
        "topicId": 3
      },
      {
        "name": {
          "en": "Outline & area", // Reverted name
          "ga": "Imlíne & achar"    // Reverted name
        },
        "description": {
          "en": "Learn the difference between perimeter (the distance around a shape) and area (the space inside a shape). Practice calculating these for various shapes.",
          "ga": "Foghlaim an difríocht idir imlíne (an fad timpeall ar chruth) agus achar (an spás laistigh de chruth). Cleachtaigh iad seo a ríomh do chruthanna éagsúla."
        },
        "_id": "6739f58a717b89815dd13a45",
        "style": {
          "icon": "draw-polygon",
          "colour": "#9C27B0"
        },
        "available": [],
        "objectives": {
          "en": [
            "Understand the difference between finding the area and perimeter of a shape.",
            "Understand that the perimeter is measured in cm/m.",
            "Understand that the area is measured in cm^2 /m^2."
          ],
          "ga": [
            "An difríocht idir achar agus imlíne cruth a thuiscint.",
            "A thuiscint gur cm/m a thomhaistear an imlíne.",
            "A thuiscint gur cm^2 /m^2 a thomhaistear an t-achar."
          ]
        },
        "topicId": 4
      },
      {
        "name": {
          "en": "Fractions",
          "ga": "Codáin"
        },
        "description": {
          "en": "Understand fractions as parts of a whole. Learn how to compare, add, subtract, and use fractions in everyday situations like measuring.",
          "ga": "Tuig codáin mar chodanna d’iomlán. Foghlaim conas codáin a chur i gcomparáid, a shuimiú, a dhealú, agus a úsáid i gcásanna laethúla mar thomhas."
        },
        "_id": "6730da9f08065f1eea9b8ce7",
        "topicId": 5,
        "available": [],
        "style": {
          "icon": "chart-pie",
          "colour": "#FF9800"
        },
        "objectives": {
          "en": [
            "Understand what fractions represent and their key parts",
            "Learn how to compare, add and subtract fractions",
            "Learn how they are used in everyday situations, like measuring",
            "Build the confidence in solving fraction problems"
          ],
          "ga": [
            "A thuiscint cad a sheasann codáin agus a bpríomhchodanna",
            "Foghlaim conas codáin a chur i gcomparáid, a shuimiú agus a dhealú",
            "Foghlaim conas a úsáidtear iad i gcásanna laethúla, cosúil le tomhas",
            "Tóg an mhuinín agus tú ag réiteach fadhbanna codáin"
          ]
        }
      },
      {
        "name": {
          "en": "Percentages",
          "ga": "Céatadáin"
        },
        "description": {
          "en": "Discover percentages, a way to show parts of a whole out of 100. Learn to calculate percentage changes and apply them to real-life scenarios like discounts.",
          "ga": "Faigh amach faoi chéatadáin, bealach chun codanna d’iomlán as 100 a thaispeáint. Foghlaim conas athruithe céatadáin a ríomh agus iad a chur i bhfeidhm ar chásanna fíor, mar lascainí."
        },
        "_id": "67314262ee5f1619a2badeae",
        "style": {
          "icon": "percentage",
          "colour": "#00BCD4"
        },
        "available": [],
        "objectives": {
          "en": [
            "Understand what percentages represent and how they relate to fractions and decimals.",
            "Learn how to calculate percentages of a number, including increases and decreases.",
            "Explore real-world uses of percentages, like discounts, tips, and statistics.",
            "Build confidence in solving percentage problems."
          ],
          "ga": [
            "A thuiscint cad a sheasann céatadáin agus conas a bhaineann siad le codáin agus deachúlacha.",
            "Foghlaim conas céatadáin d’uimhir a ríomh, lena n-áirítear méaduithe agus laghduithe.",
            "Déan iniúchadh ar úsáidí fíordhomhanda na gcéatadán, amhail lascainí, leideanna agus staitisticí.",
            "Tóg muinín i réiteach fadhbanna céatadáin."
          ]
        },
        "topicId": 6
      },
      {
        "name": {
          "en": "Algebra",
          "ga": "Ailgéabar"
        },
        "description": {
          "en": "Explore algebra, where letters and symbols represent numbers. Learn to work with expressions and solve equations to find unknown values.",
          "ga": "Déan iniúchadh ar ailgéabar, áit a seasann litreacha agus siombailí d'uimhreacha. Foghlaim conas oibriú le sloinn agus cothromóidí a réiteach chun luachanna anaithnide a aimsiú."
        },
        "_id": "6739f5e3717b89815dd13a46",
        "style": {
          "icon": "superscript",
          "colour": "#EA4335"
        },
        "available": [],
        "objectives": {
          "en": [
            "Defining and using basic algebra",
            "Solve linear equations and inequalities",
            "Using and understanding algebraic expressions"
          ],
          "ga": [
            "Ailgéabar bunúsach a mhiniú agus a úsáid",
            "Réitigh cothromóidí líneacha agus míchothromaíochtaí",
            "Sloinn ailgéabracha a úsáid agus a thuiscint"
          ]
        },
        "topicId": 7
      }
    ];

    // Function to render topic cards
    function renderTopics() {
      const topicsGrid = document.querySelector('.topics-grid');
      topicsGrid.innerHTML = ''; // Clear existing topics if any

      topicsData.forEach(topic => {
        const topicCard = document.createElement('div');
        topicCard.className = 'topic-card';

        const topicHeader = document.createElement('div');
        topicHeader.className = 'topic-header';
        topicHeader.style.backgroundColor = topic.style.colour;

        // --- Updated Header HTML ---
        topicHeader.innerHTML = `
                    <div class="topic-header-content">
                         <i class="fas fa-${topic.style.icon}"></i>
                         <h3>${topic.name[currentLanguage] || topic.name.en}</h3>
                    </div>
                    <span class="topic-toggle-icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                `;
        // --- End Updated Header HTML ---

        const topicBody = document.createElement('div');
        topicBody.className = 'topic-body';

        const descText = topic.description[currentLanguage] || topic.description.en;
        const description = descText // Removed length check as it's not strictly necessary now
          ? descText
          : '';

        const objectives = topic.objectives[currentLanguage] || topic.objectives.en;
        const objectivesTitle = translations[currentLanguage].topicObjectives;

        topicBody.innerHTML = `
                    <p>${description}</p>
                    <div class="topic-objectives">
                        <h4>${objectivesTitle}</h4>
                        <ul>
                            ${objectives.slice(0, 3).map(objective => `<li>${objective}</li>`).join('')}
                        </ul>
                    </div>
                `;

        topicCard.appendChild(topicHeader);
        topicCard.appendChild(topicBody);
        topicsGrid.appendChild(topicCard);
      });
    }

    // Website text content in both languages
    const translations = {
      en: {
        // Nav links
        navFeatures: "Features",
        navTopics: "Math Topics",
        navScreenshots: "Screenshots",
        navHowItWorks: "How It Works",

        // Hero section
        heroTitle: "Learn Math with",
        heroSubtitle: "Iolrú is a supportive math learning app to help students improve and build on their math skills. Available in both Irish and English, our app\'s goal is to reinforces in-class learning.",
        heroButton: "Discover the App",

        // Features section
        featuresTitle: "App Features",

        // Feature cards
        featureBilingual: "Bilingual Support",
        featureBilingualDesc: "Toggle between Irish and English at any point in the app to learn mathematics in your preferred language.",
        featureLearning: "Learning Sections", // Kept here for JS translation, but card removed from HTML
        featureLearningDesc: "Short learning sections to revisit class concepts you've learned.",
        featureQuizzes: "Topic Questions",
        featureQuizzesDesc: "Practice topic questions to refresh your knowledge of key math topics.",
        featureProgress: "Progress Tracking",
        featureProgressDesc: "Monitor your improvement with progress bars for each math topic based on your quiz performance.",
        featureClassroom: "Classroom Connection", // Kept here for JS translation, but card removed from HTML
        featureClassroomDesc: "Designed to complement in-person classes, providing a refresher for what you've learned.",
        featureConfidence: "Confidence Building", // Kept here for JS translation, but card removed from HTML
        featureConfidenceDesc: "Gain math confidence through regular practice in a supportive, no-pressure digital environment.",

        // Topics section
        topicsTitle: "Math Topics",
        topicsSubtitle: "Our app covers essential math topics needed for your studies, each with its own dedicated learning section and quiz.",
        topicObjectives: "Learning Objectives:",

        // Screenshots section
        screenshotsTitle: "App Screenshots",
        screenshotsSubtitle: "See how the app looks and works with these screenshots",

        // How it works section
        howItWorksTitle: "How It Works",
        howItWorksSubtitle: "Our app complements your in-person math classes with a simple three-step approach",
        howItWorksStep1: "Classroom Learning",
        howItWorksStep1Desc: "Attend your scheduled one-hour in-person math class where the teacher introduces a specific math topic.",
        howItWorksStep2: "App Reinforcement",
        howItWorksStep2Desc: "Use the app after class to review the topic with our concise learning sections and interactive examples.",
        howItWorksStep3: "Quiz & Progress",
        howItWorksStep3Desc: "Test your understanding with quizzes and track your progress as you gain confidence in each math topic.",

        // Footer
        footerAbout: "Providing education and training courses through the Irish language since 2011.",
        footerQuickLinks: "Quick Links",
        footerContact: "Contact Us",
        footerCopyright: "All rights reserved."
      },
      ga: {
        // Nav links
        navFeatures: "Gnéithe",
        navTopics: "Ábhair Mhatamaitice",
        navScreenshots: "Scáileáin",
        navHowItWorks: "Conas a Oibríonn Sé",

        // Hero section
        heroTitle: "Foghlaim Matamaitic le",
        heroSubtitle: "Is app foghlama matamaitice tacúil é Iolrú a chabhraíonn le daltaí feabhas a chur ar a scileanna matamaitice agus iad a fhorbairt. Ar fáil i nGaeilge agus i mBéarla araon, is é aidhm ár n-aipp ná foghlaim sa rang a threisiú.",
        heroButton: "Taiscéal an Aip",

        // Features section
        featuresTitle: "Gnéithe na hAipe",

        // Feature cards
        featureBilingual: "Tacaíocht Dhátheangach",
        featureBilingualDesc: "Athraigh idir Gaeilge agus Béarla ag aon phointe san aip chun matamaitic a fhoghlaim i do rogha teanga.",
        featureLearning: "Rannóga Foghlama", // Kept here for JS translation, but card removed from HTML
        featureLearningDesc: "Codanna foghlama gearra chun athbhreithniú a dhéanamh ar choincheapa ranga atá foghlamtha agat.",
        featureQuizzes: "Ceisteanna Topaice",
        featureQuizzesDesc: "Cleachtaigh ceisteanna topaicí chun do chuid eolais ar thopaicí matamaitice a feabhas.",
        featureProgress: "Rianú Dul Chun Cinn",
        featureProgressDesc: "Déan monatóireacht ar do fheabhas le barraí dul chun cinn do gach ábhar matamaitice bunaithe ar do fheidhmíocht sna tráthanna na gceist.",
        featureClassroom: "Nasc leis an Seomra Ranga", // Kept here for JS translation, but card removed from HTML
        featureClassroomDesc: "Deartha chun ranganna duine le duine a chomhlánú, ag soláthar tagairt áisiúil don mhéid atá foghlamtha agat.",
        featureConfidence: "Tógáil Muiníne", // Kept here for JS translation, but card removed from HTML
        featureConfidenceDesc: "Faigh muinín matamaitice trí chleachtadh rialta i dtimpeallacht dhigiteach thacúil, gan aon bhrú.",

        // Topics section
        topicsTitle: "Ábhair Mhatamaitice",
        topicsSubtitle: "Clúdaíonn ár n-aip ábhair mhatamaitice riachtanacha a theastaíonn le haghaidh do staidéir, gach ceann le rannóg foghlama agus tráth na gceist tiomnaithe.",
        topicObjectives: "Cuspóirí Foghlama:",

        // Screenshots section
        screenshotsTitle: "Scáileáin na hAipe",
        screenshotsSubtitle: "Féach conas a fhéachann agus a oibríonn an aip leis na scáileáin seo",

        // How it works section
        howItWorksTitle: "Conas a Oibríonn Sé",
        howItWorksSubtitle: "Comhlánaíonn ár n-aip do ranganna matamaitice duine le duine le cur chuige trí chéim simplí",
        howItWorksStep1: "Foghlaim sa Seomra Ranga",
        howItWorksStep1Desc: "Freastail ar do rang matamaitice duine le duine sceidealta uair an chloig ina gcuireann an múinteoir ábhar matamaitice ar leith i láthair.",
        howItWorksStep2: "Treisiú leis an Aip",
        howItWorksStep2Desc: "Úsáid an aip tar éis an ranga chun athbhreithniú a dhéanamh ar an ábhar lenár rannóga foghlama achomair agus samplaí idirghníomhacha.",
        howItWorksStep3: "Tráth na gCeist & Dul Chun Cinn",
        howItWorksStep3Desc: "Tástáil do thuiscint le tráthanna na gceist agus rianaigh do dhul chun cinn agus tú ag fáil muiníne i ngach ábhar matamaitice.",

        // Footer
        footerAbout: "Ag soláthar cúrsaí oideachais agus oiliúna trí mheán na Gaeilge ó 2011.",
        footerQuickLinks: "Naisc Thapa",
        footerContact: "Déan Teagmháil Linn",
        footerCopyright: "Gach ceart ar cosaint."
      }
    };

    // Language toggle functionality
    let currentLanguage = 'en'; // Default language
    const languageToggleButton = document.getElementById('language-toggle-button');

    function toggleLanguage() {
      // --- Fade Out ---
      document.body.classList.add('language-switching');

      // --- Wait for fade out, then change content ---
      setTimeout(() => {
        currentLanguage = currentLanguage === 'en' ? 'ga' : 'en';

        // Update button text based on the *new* currentLanguage
        languageToggleButton.textContent = currentLanguage === 'en' ? 'English' : 'Gaeilge';

        // Update the rest of the website content
        updatePageLanguage();

        // Re-render topics in the new language
        renderTopics();

        // Re-attach topic click listeners after re-rendering
        setupTopicClickListeners();

        // --- Fade In ---
        document.body.classList.remove('language-switching');

      }, 400); // Match this duration to the CSS transition time
    }

    function updatePageLanguage() {
      const t = translations[currentLanguage];
      const bodyElement = document.body;

      // Set lang attribute on html tag for accessibility and potential CSS targeting
      document.documentElement.lang = currentLanguage;

      // --- Update elements using querySelector and textContent/innerHTML ---

      // Update navigation links (if they exist)
      const navLinks = document.querySelectorAll('.nav-links a');
      if (navLinks.length >= 4) {
        navLinks[0].textContent = t.navFeatures;
        navLinks[1].textContent = t.navTopics;
        navLinks[2].textContent = t.navScreenshots;
        navLinks[3].textContent = t.navHowItWorks;
      }

      // Update hero section
      const heroH1 = document.querySelector('.hero h1');
      if (heroH1) heroH1.innerHTML = `${t.heroTitle} <span>Gaelchursaí</span>`;
      const heroP = document.querySelector('.hero p');
      if (heroP) heroP.textContent = t.heroSubtitle;
      const ctaButton = document.querySelector('.cta-button');
      if (ctaButton) ctaButton.textContent = t.heroButton;

      // Update features section titles
      const featuresTitle = document.querySelector('#features .section-title');
      if (featuresTitle) featuresTitle.textContent = t.featuresTitle;

      // Update *remaining* feature cards (NOTE: Only update cards that still exist in HTML)
      const features = document.querySelectorAll('#features .feature'); // Target specifically within #features
      if (features.length > 0) {
        if (features[0]) { // Check if the element exists before accessing its children
          features[0].querySelector('h3').textContent = t.featureBilingual;
          features[0].querySelector('p').textContent = t.featureBilingualDesc;
        }
        // Skip features[1] as it's removed (was Learning Sections)
        if (features[1]) { // This is now the "Topic Questions" card
          features[1].querySelector('h3').textContent = t.featureQuizzes;
          features[1].querySelector('p').textContent = t.featureQuizzesDesc;
        }
        if (features[2]) { // This is now the "Progress Tracking" card
          features[2].querySelector('h3').textContent = t.featureProgress;
          features[2].querySelector('p').textContent = t.featureProgressDesc;
        }
        // Skip the indices for Classroom Connection and Confidence Building as they were removed
      }


      // Update topics section titles
      const topicsTitle = document.querySelector('#topics .section-title');
      if (topicsTitle) topicsTitle.textContent = t.topicsTitle;
      const topicsSubtitle = document.querySelector('#topics .section-subtitle');
      if (topicsSubtitle) topicsSubtitle.textContent = t.topicsSubtitle;

      // Update screenshots section (if elements exist)
      const screenshotsTitle = document.querySelector('#screenshots .section-title');
      if (screenshotsTitle) screenshotsTitle.textContent = t.screenshotsTitle;
      const screenshotsSubtitle = document.querySelector('#screenshots .section-subtitle');
      if (screenshotsSubtitle) screenshotsSubtitle.textContent = t.screenshotsSubtitle;


      // Update how it works section (if elements exist)
      const howItWorksTitle = document.querySelector('#how-it-works .section-title');
      if (howItWorksTitle) howItWorksTitle.textContent = t.howItWorksTitle;
      const howItWorksSubtitle = document.querySelector('#how-it-works .section-subtitle');
      if (howItWorksSubtitle) howItWorksSubtitle.textContent = t.howItWorksSubtitle;


      const steps = document.querySelectorAll('.step');
      if (steps.length >= 3) {
        steps[0].querySelector('h3').textContent = t.howItWorksStep1;
        steps[0].querySelector('p').textContent = t.howItWorksStep1Desc;
        steps[1].querySelector('h3').textContent = t.howItWorksStep2;
        steps[1].querySelector('p').textContent = t.howItWorksStep2Desc;
        steps[2].querySelector('h3').textContent = t.howItWorksStep3;
        steps[2].querySelector('p').textContent = t.howItWorksStep3Desc;
      }

      // Update footer
      const footerColumns = document.querySelectorAll('.footer-column');
      if (footerColumns.length >= 3) {
        const aboutP = footerColumns[0].querySelector('p');
        if (aboutP) aboutP.textContent = t.footerAbout;

        const quickLinksH3 = footerColumns[1].querySelector('h3');
        if (quickLinksH3) quickLinksH3.textContent = t.footerQuickLinks;

        const contactH3 = footerColumns[2].querySelector('h3');
        if (contactH3) contactH3.textContent = t.footerContact;

        // Update quick links in footer
        const quickLinks = footerColumns[1].querySelectorAll('a');
        if (quickLinks.length >= 4) {
          quickLinks[0].textContent = t.navFeatures;
          quickLinks[1].textContent = t.navTopics;
          quickLinks[2].textContent = t.navScreenshots;
          quickLinks[3].textContent = t.navHowItWorks;
        }
      }

      const copyrightP = document.querySelector('.copyright p');
      if (copyrightP) copyrightP.innerHTML = `&copy; 2025 Gaelchursaí. ${t.footerCopyright}`;
    }


    // --- Function for Topic Click Listeners ---
    function setupTopicClickListeners() {
      const topicsGrid = document.querySelector('.topics-grid');
      if (topicsGrid) {
        // Use event delegation on the grid container
        topicsGrid.addEventListener('click', function (event) {
          // Check if the click originated from a topic header or its children
          const header = event.target.closest('.topic-header');
          if (!header) return; // Exit if click wasn't on a header

          // Check if the screen width is mobile (matches the CSS media query)
          if (window.innerWidth <= 768) {
            const topicCard = header.closest('.topic-card');
            if (!topicCard) return;

            // Check if the clicked card is already active
            const isActive = topicCard.classList.contains('active');

            // Deactivate all other topic cards first (important for only one open at a time)
            document.querySelectorAll('.topic-card.active').forEach(activeCard => {
              // Only remove active class if it's not the currently clicked card
              if (activeCard !== topicCard) {
                activeCard.classList.remove('active');
              }
            });

            // Toggle the active class on the clicked card
            topicCard.classList.toggle('active');
          }
        });
      }
    }
    // --- End Function ---

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function () {
      // Initial setup
      updatePageLanguage(); // Set initial language text based on default
      renderTopics();
      setupTopicClickListeners(); // Setup initial listeners

      // Setup language toggle button click event
      if (languageToggleButton) {
        languageToggleButton.addEventListener('click', toggleLanguage);
      }


      // Add scroll animations using Intersection Observer
      const animatedElements = document.querySelectorAll('.animate');
      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = 1;
              entry.target.style.transform = 'translateY(0)';
              observer.unobserve(entry.target); // Stop observing once animated
            }
          });
        }, { threshold: 0.1 }); // Trigger when 10% of the element is visible

        animatedElements.forEach(element => {
          observer.observe(element);
        });
      } else {
        // Fallback for older browsers
        animatedElements.forEach(element => {
          element.style.opacity = 1;
          element.style.transform = 'translateY(0)';
        });
      }
    });
  </script>
</body>

</html>
